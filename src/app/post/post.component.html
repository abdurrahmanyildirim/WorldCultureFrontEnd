<div class="container">
  <div class="row" *ngIf="!post ; else postDetail">
    <div class="col-4" *ngFor="let p of postsForCards" style="margin-top: 15px">
      <div class="card" style="width:100%;height: 360px;">
        <img class="card-img-top" style="width: 100%;height:250px" src="{{p.postPhotoPath}}" alt="{{p.title}}">
        <div class="card-body">
          <h5 class="card-title">{{p.title}}</h5>
          <a class="form-control btn btn-primary" routerLink="/post/{{p.postID}}">İncele</a>
        </div>
      </div>
    </div>
  </div>
  <ng-template #postDetail>
    <div class="row" style="margin-top: 15px;">
      <div class="col-6">
        <img class="img-thumbnail" src="{{post.postPhotoPath}}" style="width: 100%; height:400px;" alt="{{post.title}}">
        <div *ngIf="isAuthenticate" class="card" style="margin-top: 5px">
          <div class="card-body">
            <form [formGroup]="reviewForm" (ngSubmit)="sendReview()">
              <div class="form-group">
                <p><strong>İsim: </strong> <input required name="name" formControlName="name" type="text"
                    class="form-control"></p>
              </div>
              <div class="form-group">
                <p><strong>Puan:</strong>
                  <select class="form-control" name="rate" formControlName="rate" required>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                  </select></p>
              </div>
              <div class="form-group">
                <textarea class="form-control" name="reviewContent" formControlName="reviewContent"
                  placeholder="Yorum Yaz"></textarea>
              </div>
              <div class="form-group">
                <input type="submit" class="btn btn-success form-control" [disabled]="!reviewForm.valid" value="Gönder">
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card">
          <div class="card-body">
            <p><strong>Başlık:</strong> {{post.title}}</p>
            <p><strong>İçerik:</strong> {{post.description}}</p>
            <a class="btn btn-primary" routerLink="/profile/{{post.accountID}}">Paylaşan Hesabı İncele</a>
          </div>
        </div>
        <div *ngIf="reviews?.length >= 0" style="margin-top: 5px;" >
          <div class="card" *ngFor="let review of reviews">
            <div class="card-body">
              <p><strong>İsim:</strong> {{review.name}}</p>
              <p><strong>Yorum:</strong> {{review.reviewContent}}</p>
              <p><strong>Puan:</strong>
                  {{review.rate}}
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</div>